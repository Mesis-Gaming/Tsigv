if not _G.Flags then
    _G.Flags = {
        HitboxExpander = {
            Size = 12;
            Enabled = true;
            Transparency = 0.7;
            Part = "Torso";
        };
    };
end

if not _G.Loaded then
    _G.Loaded = true;
    local ReplicatedStorage = game:GetService("ReplicatedStorage");
    local RunService = game:GetService("RunService");
    local Players = game:GetService("Players");
    local OriginalSizes = {};
    local HitboxInfo = _G.Flags.HitboxExpander;

    Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(character)
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") then
                    OriginalSizes[part.Name] = part.Size;
                end
            end

            local function HitboxExpander(Model, Hitbox)
                if Hitbox.Enabled then
                    local Part = Model:FindFirstChild(Hitbox.Part);
                    if Part then
                        Part.Size = Vector3.new(Hitbox.Size, Hitbox.Size, Hitbox.Size);
                        Part.Transparency = Hitbox.Transparency;
                        Part.CanCollide = false;
                        Part.Name = "Head";
                    end
                else
                    local Part = Model:FindFirstChild("Head");
                    if Part then
                        Part.Size = OriginalSizes[Part.Name] or Vector3.new(2, 2, 1);
                        Part.Transparency = 0;
                        Part.CanCollide = true;
                        Part.Name = "Torso";
                    end
                end
            end

            RunService.Heartbeat:Connect(function()
                if character and character:FindFirstChild("Torso") then
                    HitboxExpander(character, HitboxInfo);
                end
            end)
        end)
    end)
end
